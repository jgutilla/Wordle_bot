
import requests, lxml
from bs4 import BeautifulSoup
import copy
from master_score import MASTER_SCORE_DICT


def get_google_score_old(guess):
    headers = {
        "User-Agent":
        "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/70.0.3538.102 Safari/537.36 Edge/18.19582"
    }

    headers = {"User-Agent": "Mozilla/5.0 (Windows NT 6.1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/80.0.3987.149 Safari/537.36"}
    URL = f"https://www.google.com/search?q={guess}"
    result = requests.get(URL, headers=headers)
    soup = BeautifulSoup(result.content, 'html.parser')

    total_results_text = soup.find("div", {"id": "result-stats"}).find(text=True, recursive=False)
    results_num = ''.join([num for num in total_results_text if num.isdigit()])

    return results_num

def get_google_score(guess):
    return MASTER_SCORE_DICT[guess]


def find_lower_search_bound():
    google_results = {
        "aback":18300000,
        "abase":10500000,
        "abate":187000000,
        "abbey":306000000,
        "abyss":131000000,
        "acute":1740000000,
        "adobe":1530000000,
        "admit":2410000000,
        "agape":32600000,
        "agate":49000000,
        "agree":9920000000,
        "ahead":2470000000,
        "album":3170000000,
        "alien":1200000000,
        "alike":983000000,
        "allow":13170000000,
        "aloft":39900000,
        "alone":4230000000,
        "aloud":259000000,
        "alpha":1890000000,
        "altar":296000000,
        "ample":534000000,
        "angry":1930000000,
        "aphid":37600000,
        "apron":272000000,
        "aptly":61600000,
        "argue":2730000000,
        "aroma":417000000,
        "aside":1240000000,
        "askew":19500000,
        "asset":5030000000,
        "atoll":39800000,
        "atone":55300000,
        "audit":1540000000,
        "awake":433000000,
        "awful":513000000,
        "badge":1560000000,
        "badly":1070000000,
        "banal":64300000,
        "basic":10810000000,
        "baton":275000000,
        "batty":25200000,
        "bayou":74800000,
        "beady":9940000,
        "begin":8970000000,
        "being":15530000000,
        "belch":17600000,
        "belly":1100000000,
        "bench":903000000,
        "berth":72900000,
        "biome":183000000,
        "black":25270000000,
        "bland":300000000,
        "bleed":2270000000,
        "bloke":102000000,
        "blown":1860000000,
        "bluff":228000000,
        "blurt":10400000,
        "blush":380000000,
        "booby":65800000,
        "boost":2060000000,
        "booze":87700000,
        "boozy":30500000,
        "bough":32700000,
        "brake":785000000,
        "break":8480000000,
        "briar":41900000,
        "bribe":246000000,
        "brine":157000000,
        "bring":9480000000,
        "brink":190000000,
        "brisk":59500000,
        "buggy":213000000,
        "cacao":210000000,
        "canny":16800000,
        "cargo":1970000000,
        "carry":7420000000,
        "cater":540000000,
        "catch":4190000000,
        "caulk":57300000,
        "champ":1230000000,
        "chant":886000000,
        "charm":593000000,
        "cheat":4300000000,
        "cheek":959000000,
        "chief":2720000000,
        "chest":2830000000,
        "chill":1360000000,
        "choke":426000000,
        "chunk":536000000,
        "chute":351000000,
        "cigar":192000000,
        "cinch":36600000,
        "civic":962000000,
        "class":10920000000,
        "click":18530000000,
        "cling":222000000,
        "clock":2740000000,
        "cloth":5260000000,
        "clown":358000000,
        "cluck":14600000,
        "coast":2730000000,
        "colon":1140000000,
        "comet":219000000,
        "comma":425000000,
        "conic":46400000,
        "corny":39400000,
        "could":14280000000,
        "coyly":2220000,
        "cramp":844000000,
        "crank":180000000,
        "crass":18500000,
        "crate":389000000,
        "craze":98100000,
        "crazy":2080000000,
        "creak":47000000,
        "crept":31200000,
        "crimp":46200000,
        "croak":9100000,
        "crust":328000000,
        "cynic":133000000,
        "dandy":73500000,
        "death":4890000000,
        "delta":1560000000,
        "delve":144000000,
        "denim":1540000000,
        "depot":799000000,
        "depth":2660000000,
        "digit":1430000000,
        "dodge":621000000,
        "donor":839000000,
        "doubt":1230000000,
        "dowry":30300000,
        "dozen":937000000,
        "drain":1360000000,
        "dream":3680000000,
        "drink":6620000000,
        "droll":6630000,
        "duchy":39000000,
        "dutch":2520000000,
        "dwarf":408000000,
        "egret":21700000,
        "elder":1150000000,
        "elope":46400000,
        "enema":78200000,
        "enjoy":6010000000,
        "epoch":197000000,
        "epoxy":107000000,
        "equal":4330000000,
        "erode":519000000,
        "error":9020000000,
        "essay":6570000000,
        "evade":508000000,
        "exist":4710000000,
        "exult":3330000,
        "farce":62900000,
        "favor":9730000000,
        "feign":23200000,
        "ferry":501000000,
        "fewer":2490000000,
        "field":9140000000,
        "finer":182000000,
        "first":18480000000,
        "fixer":254000000,
        "fjord":130000000,
        "flair":253000000,
        "flesh":742000000,
        "flick":317000000,
        "fling":145000000,
        "float":1630000000,
        "flock":233000000,
        "flood":1120000000,
        "floor":4320000000,
        "floss":196000000,
        "flout":5270000,
        "fluff":131000000,
        "flume":28000000,
        "focal":847000000,
        "focus":5420000000,
        "foggy":141000000,
        "foray":68600000,
        "forge":582000000,
        "forgo":65600000,
        "forth":1200000000,
        "found":12820000000,
        "foyer":250000000,
        "frame":4570000000,
        "fresh":6440000000,
        "front":7310000000,
        "froth":36200000,
        "fungi":876000000,
        "gamer":1150000000,
        "gamma":575000000,
        "gaudy":13100000,
        "gauze":64200000,
        "gawky":1080000,
        "gecko":95100000,
        "girth":54800000,
        "glass":6130000000,
        "glean":75700000,
        "gloat":14700000,
        "gloom":48900000,
        "glory":626000000,
        "golem":79000000,
        "goner":6070000,
        "goose":272000000,
        "gorge":360000000,
        "gouge":36400000,
        "grade":8200000000,
        "grate":392000000,
        "great":11600000000,
        "greet":654000000,
        "grime":169000000,
        "gripe":415000000,
        "groin":185000000,
        "group":15700000000,
        "grove":953000000,
        "growl":83000000,
        "gruel":8740000,
        "guild":383000000,
        "gully":52100000,
        "hairy":1010000000,
        "hatch":504000000,
        "heath":570000000,
        "heist":433000000,
        "helix":247000000,
        "heron":162000000,
        "hinge":302000000,
        "hoard":165000000,
        "homer":265000000,
        "howdy":40300000,
        "humor":1370000000,
        "humph":4170000,
        "hunky":30600000,
        "hutch":82400000,
        "hyper":1050000000,
        "inept":21200000,
        "inert":188000000,
        "input":3150000000,
        "inter":3460000000,
        "ionic":326000000,
        "irony":485000000,
        "islet":73100000,
        "ivory":445000000,
        "jaunt":16100000,
        "karma":415000000,
        "kebab":150000000,
        "khaki":255000000,
        "knoll":56900000,
        "label":8070000000,
        "labor":2580000000,
        "lapel":43600000,
        "lapse":534000000,
        "larva":249000000,
        "leave":12930000000,
        "leery":6570000,
        "libel":38100000,
        "light":13250000000,
        "lilac":220000000,
        "linen":609000000,
        "liver":1530000000,
        "lofty":71700000,
        "loopy":18000000,
        "loser":509000000,
        "lowly":39000000,
        "lusty":157000000,
        "lying":4170000000,
        "madam":386000000,
        "major":10080000000,
        "manor":337000000,
        "marry":4860000000,
        "marsh":402000000,
        "masse":661000000,
        "maxim":252000000,
        "merit":772000000,
        "metal":4180000000,
        "midge":26000000,
        "midst":294000000,
        "mimic":610000000,
        "mince":334000000,
        "model":12840000000,
        "moist":503000000,
        "money":8440000000,
        "month":16510000000,
        "motor":3730000000,
        "motto":713000000,
        "moult":14300000,
        "mount":2300000000,
        "mourn":360000000,
        "movie":13280000000,
        "mummy":436000000,
        "nasty":739000000,
        "natal":1350000000,
        "naval":638000000,
        "needy":128000000,
        "night":9490000000,
        "nymph":77200000,
        "offal":12600000,
        "olive":1110000000,
        "onset":1290000000,
        "other":19780000000,
        "ought":335000000,
        "outdo":127000000,
        "oxide":777000000,
        "panel":4020000000,
        "panic":640000000,
        "paper":10400000000,
        "parer":23000000,
        "parry":113000000,
        "patty":352000000,
        "pause":1400000000,
        "peach":866000000,
        "perch":113000000,
        "perky":103000000,
        "phase":3710000000,
        "photo":18820000000,
        "picky":128000000,
        "piety":51700000,
        "pilot":1340000000,
        "piney":15700000,
        "pinto":410000000,
        "pithy":8740000,
        "plant":8260000000,
        "pleat":137000000,
        "pluck":161000000,
        "point":20510000000,
        "poker":375000000,
        "pound":1930000000,
        "power":10550000000,
        "prick":115000000,
        "pride":1300000000,
        "primo":1440000000,
        "print":16180000000,
        "prize":1790000000,
        "prove":3840000000,
        "proxy":847000000,
        "pulpy":7170000,
        "purge":343000000,
        "quart":325000000,
        "query":2700000000,
        "quiet":1260000000,
        "quirk":115000000,
        "radio":4500000000,
        "react":3280000000,
        "rebus":112000000,
        "rebut":56600000,
        "recap":705000000,
        "renew":2220000000,
        "repay":424000000,
        "retch":7400000,
        "retro":1510000000,
        "rhino":248000000,
        "rhyme":430000000,
        "robin":1190000000,
        "robot":1480000000,
        "rogue":411000000,
        "roomy":35900000,
        "rouge":1370000000,
        "round":5480000000,
        "royal":3150000000,
        "ruder":17900000,
        "rupee":579000000,
        "rusty":162000000,
        "saint":2950000000,
        "salad":1210000000,
        "saute":267000000,
        "scald":30500000,
        "scare":2150000000,
        "scorn":65100000,
        "scour":58700000,
        "scrap":627000000,
        "seedy":18600000,
        "serve":15630000000,
        "sever":438000000,
        "shake":2020000000,
        "shall":2670000000,
        "shame":452000000,
        "shard":133000000,
        "shawl":246000000,
        "shine":923000000,
        "shire":138000000,
        "shown":5820000000,
        "showy":38200000,
        "shrub":274000000,
        "shrug":74600000,
        "siege":477000000,
        "sissy":208000000,
        "skill":4510000000,
        "slosh":7260000,
        "sloth":73000000,
        "slump":113000000,
        "slung":19000000,
        "smart":18790000000,
        "smear":221000000,
        "smelt":32300000,
        "smite":31300000,
        "sneak":409000000,
        "snout":131000000,
        "soggy":69900000,
        "solar":2200000000,
        "solve":4180000000,
        "sonic":570000000,
        "sower":19400000,
        "spade":178000000,
        "spell":3850000000,
        "spend":4190000000,
        "spicy":1300000000,
        "spiel":400000000,
        "spike":810000000,
        "spill":774000000,
        "spray":1780000000,
        "squad":950000000,
        "staff":5650000000,
        "stair":1100000000,
        "stale":243000000,
        "stand":11960000000,
        "start":18260000000,
        "stead":84000000,
        "steed":28700000,
        "stein":450000000,
        "stick":3600000000,
        "sting":547000000,
        "stink":228000000,
        "stomp":132000000,
        "stool":820000000,
        "store":20750000000,
        "story":13480000000,
        "stout":131000000,
        "stove":548000000,
        "sugar":4280000000,
        "surer":20100000,
        "sweet":4480000000,
        "swill":4830000,
        "swirl":213000000,
        "tacit":67600000,
        "tangy":64200000,
        "tapir":18800000,
        "taunt":82600000,
        "tease":719000000,
        "their":17120000000,
        "theme":4930000000,
        "thorn":245000000,
        "those":11100000000,
        "thumb":7280000000,
        "thyme":141000000,
        "tiara":215000000,
        "tibia":173000000,
        "tiger":1360000000,
        "tilde":215000000,
        "tipsy":86700000,
        "today":18110000000,
        "totem":109000000,
        "trace":1890000000,
        "train":3250000000,
        "trait":1820000000,
        "trash":583000000,
        "trawl":23000000,
        "treat":7680000000,
        "triad":128000000,
        "trice":32700000,
        "trite":13200000,
        "troll":267000000,
        "trope":127000000,
        "trove":76700000,
        "truss":234000000,
        "tryst":20900000,
        "twang":11600000,
        "tweed":132000000,
        "twice":2820000000,
        "twine":41800000,
        "ulcer":422000000,
        "ultra":2830000000,
        "unfed":1320000,
        "unfit":130000000,
        "unify":430000000,
        "unite":1320000000,
        "unmet":103000000,
        "upset":1220000000,
        "usher":154000000,
        "using":15190000000,
        "usurp":29200000,
        "valid":4090000000,
        "vigor":319000000,
        "viral":6450000000,
        "vital":2620000000,
        "vivid":373000000,
        "vodka":313000000,
        "voice":5310000000,
        "vouch":28000000,
        "wacky":104000000,
        "waltz":79800000,
        "waste":1700000000,
        "watch":16140000000,
        "weary":98300000,
        "wedge":429000000,
        "whack":57500000,
        "whelp":9500000,
        "whoop":20800000,
        "wince":13100000,
        "wooer":560000,
        "world":15730000000,
        "woven":213000000,
        "wrote":3060000000,
        "wrung":7280000,
        "yearn":77200000,
        "yield":2050000000,
        "youth":2870000000,
        "zesty":33300000,
    }
    lowest_score = 1000000000000000000
    for key in google_results:
        if google_results[key] < lowest_score:
            lowest_score = google_results[key]
    return lowest_score